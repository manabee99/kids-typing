(this["webpackJsonpkids-typing"]=this["webpackJsonpkids-typing"]||[]).push([[0],[,,,function(e,t,a){},,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,function(e,t,a){},,,,,,,,,,function(e,t,a){e.exports=a(97)},,,,,function(e,t,a){},,,,,,,function(e,t,a){e.exports=a.p+"static/media/bgm-title@happytime.c45367d2.mp3"},function(e,t,a){e.exports=a.p+"static/media/bgm-stage-sakura@sanjinooyatsu.99ca7ff6.mp3"},function(e,t,a){e.exports=a.p+"static/media/bgm-stage-sunflower@lovelyflower.0d1f4fda.mp3"},function(e,t,a){e.exports=a.p+"static/media/bgm-stage-goldfish@retropark.77ab81b7.mp3"},function(e,t,a){e.exports=a.p+"static/media/bgm-stage-seabed@retrogamecenter2.d2f8d4e0.mp3"},function(e,t,a){e.exports=a.p+"static/media/bgm-stage-halloween@sunadokeiseiun.6d81b79e.mp3"},function(e,t,a){e.exports=a.p+"static/media/bgm-ending@chocolatedaisakusen.c4575386.mp3"},function(e,t,a){e.exports=a.p+"static/media/bgm-stage-end@nichinichikorekoujitsu.d1b48e24.mp3"},function(e,t,a){e.exports=a.p+"static/media/se-title-start.84ec48eb.mp3"},function(e,t,a){e.exports=a.p+"static/media/se-success.75de09cc.mp3"},function(e,t,a){e.exports=a.p+"static/media/se-miss.8bf494ca.mp3"},function(e,t,a){e.exports=a.p+"static/media/se-stage-sakura-start@rappa.40e914b9.mp3"},function(e,t,a){e.exports=a.p+"static/media/se-fire-character@jump13.ffef03c6.mp3"},function(e,t,a){e.exports=a.p+"static/media/se-voice-ready.e4c43128.mp3"},function(e,t,a){e.exports=a.p+"static/media/se-voice-go.7301e778.mp3"},function(e,t,a){e.exports=a.p+"static/media/se-voice-count-down.ce00be93.mp3"},function(e,t,a){e.exports=a.p+"static/media/se-voice-congratulation.c61cc0ef.mp3"},function(e,t,a){e.exports=a.p+"static/media/se-voice-good-job.b0b324a0.mp3"},function(e,t,a){e.exports=a.p+"static/media/se-voice-soon-after.7fac2dbf.mp3"},function(e,t,a){e.exports=a.p+"static/media/se-voice-pity.c92346f8.mp3"},,function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(11),i=a.n(n),s=(a(69),a(24)),o=a(31),l=a(32),u=a(33),p=a(34),f=(a(3),a(6),function(e){}),d=function(e){var t="success-counter-frame",a="kt-font-bold-stroke success-counter-title",r="success-counter-value-frame",n="kt-font-bold-stroke success-counter-value-base success-counter-value-fadein",i="kt-font-bold-stroke success-counter-value-base success-counter-before-value";return c.a.createElement("div",{className:t},c.a.createElement("div",{className:a},"\u305b\u3044\u304b\u3044"),c.a.createElement("div",{className:r,key:"success-counter"+e.successCount},c.a.createElement("div",{className:n},e.successCount),e.successCount>0?c.a.createElement("div",{className:i},e.successCount-1):c.a.createElement("div",null)))},m=(a(41),function(e){return c.a.createElement("div",{className:"kt-flex-vertical-center ef-correct",style:{top:e.top,left:e.left,width:e.width,height:e.height}})}),h=function(e){return c.a.createElement("div",{className:"kt-flex-vertical-center ef-miss",style:{top:e.top-12,left:e.left-12,width:e.width,height:e.height}})},E=function(e){return 0===e.characterStateList.length?c.a.createElement("div",null):c.a.createElement("div",{className:"ef-input-cursor",style:{top:e.characterStateList[0].top-("blackcat"===e.characterStateList[0].practiceCharacterType?30:12),left:e.characterStateList[0].left-12,opacity:.5}})},g=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"effect-layer-frame"},e.effectStateList.flatMap((function(e){return"InputSuccess"===e.effectType?c.a.createElement("div",{key:e.effectId},c.a.createElement(m,{componentId:e.effectId,top:e.top,left:e.left,width:150,height:150})):"InputMiss"===e.effectType?c.a.createElement("div",{key:e.effectId},c.a.createElement(h,{componentId:e.effectId,top:e.top,left:e.left,width:150,height:150})):c.a.createElement("div",{key:e.effectId})}))),c.a.createElement("div",{className:"effect-layer-frame",key:"ef-input-cursor"},c.a.createElement(E,{characterStateList:e.characterStateList})))},S=function(e){var t="kt-box-fit parctice-start-animation-layer-frame",a="kt-box-fit kt-flex-vertical-center kt-font-bold-stroke practice-start-animation-base practice-start-animation-1",r="kt-box-fit kt-flex-vertical-center kt-font-bold-stroke practice-start-animation-base practice-start-animation-2",n="kt-box-fit kt-flex-vertical-center kt-font-bold-stroke practice-start-animation-base practice-start-animation-3",i="kt-box-fit kt-flex-vertical-center kt-font-bold-stroke practice-start-animation-base practice-start-animation-4",s="kt-box-fit kt-flex-vertical-center kt-font-bold-stroke practice-start-animation-base practice-start-animation-5",o="kt-box-fit kt-flex-vertical-center kt-font-bold-stroke practice-start-animation-base practice-start-animation-6";return c.a.createElement("div",{className:t},c.a.createElement("div",{className:a},"5"),c.a.createElement("div",{className:r},"4"),c.a.createElement("div",{className:n},"3"),c.a.createElement("div",{className:i},"2"),c.a.createElement("div",{className:s},"1"),c.a.createElement("div",{className:o,onAnimationEnd:function(){return e.animationEnd()}},"Start!!"))},b=function(e){},y=function(e){return c.a.createElement("div",{key:"sakura"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-sakura",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{character:e.character}))},k=function(e){return c.a.createElement("div",{key:"bird"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-bird",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{left:30,character:e.character}))},T=function(e){var t=[];return e.characterStateList.forEach((function(e,a){var r={isHead:0===a,componentId:e.componentId,character:e.character,top:e.top,left:e.left,charcterState:e.characterState};"sakura"===e.practiceCharacterType?t.push(c.a.createElement(y,r)):"bird"===e.practiceCharacterType&&t.push(c.a.createElement(k,r))})),c.a.createElement("div",{className:"kt-floating-frame kt-flex-horizontal-left practice-stage-sakura-frame"},t)},C=function(e){if(e.soundMuting)return c.a.createElement("div",null);var t=[];return e.soundEffectList.filter((function(e){return""!==e.url&&"PLAYING"===e.soundStatus})).flatMap((function(e){t.push(c.a.createElement("div",{key:"se-"+e.soundEffectId},c.a.createElement("audio",{src:e.url,autoPlay:!0})))})),c.a.createElement("div",null,t)},v=a(56),L=a.n(v),_=function(e){return c.a.createElement("div",{key:"bgm"},!1===e.soundMuting?c.a.createElement(L.a,{url:e.bgmStatus.url,playStatus:e.bgmStatus.soundStatus,autoLoad:!0,loop:!0}):"")},N={bgmTitle:a(76),bgmStageSakura:a(77),bgmStageSunflower:a(78),bgmStageGoldfish:a(79),bgmStageSeabed:a(80),bgmStageHalloween:a(81),bgmEnding:a(82),bgmStageEnd:a(83),seTitleStart:a(84),seSuccess:a(85),seMiss:a(86),seStagesakuraStart:a(87),seFireCharacter:a(88),seVoiceReady:a(89),seVoiceGo:a(90),seVoiceCountDown:a(91),seVoiceCongratulation:a(92),seVoiceGoodJob:a(93),seVoiceSoonAfter:a(94),seVoicePity:a(95)},I=function(e){var t="miss-counter-frame",a="kt-font-bold-stroke miss-counter-title",r="miss-counter-value-frame",n="kt-font-bold-stroke miss-counter-value-base miss-counter-value-fadein",i="kt-font-bold-stroke miss-counter-value-base miss-counter-before-value";return c.a.createElement("div",{className:t},c.a.createElement("div",{className:a},"\u307e\u3061\u304c\u3048"),c.a.createElement("div",{className:r,key:"miss-counter"+e.missCount},c.a.createElement("div",{className:n},e.missCount),e.missCount>0?c.a.createElement("div",{className:i},e.missCount-1):c.a.createElement("div",null)))},A=function(e){var t="kt-box-fit practice-end-animation-layer-frame",a="kt-box-fit kt-flex-vertical-center kt-font-bold-stroke practice-end-animation-base practice-end-animation-1",r="kt-box-fit kt-flex-vertical-center kt-font-bold-stroke practice-end-animation-base practice-end-animation-2",n="kt-box-fit kt-flex-vertical-center kt-font-bold-stroke practice-end-animation-base practice-end-animation-3",i="kt-box-fit kt-flex-vertical-center kt-font-bold-stroke practice-end-animation-base practice-end-animation-4",s="kt-box-fit kt-flex-vertical-center kt-font-bold-stroke practice-end-animation-base practice-end-animation-5",o=[];return e.practiceCompleted?(o.push(c.a.createElement("div",{className:a},"\u304a\u3057\u307e\u3044")),o.push(c.a.createElement("div",{className:r},"\u304a\u3064\u304b\u308c\u3055\u307e\uff01")),o.push(c.a.createElement("div",{className:n},"\u307e\u3060\u307e\u3060",c.a.createElement("br",null),"\u3044\u3051\u308b\u306d")),o.push(c.a.createElement("div",{className:i,onAnimationEnd:function(){return e.animationEnd()}},"\u3053\u306e\u3061\u3087\u3046\u3057\u3067",c.a.createElement("br",null),"\u304c\u3093\u3070\u308d\u3046\uff01"))):e.levelUp?(o.push(c.a.createElement("div",{className:a},"\u304a\u3057\u307e\u3044")),o.push(c.a.createElement("div",{className:r},"\u304a\u3064\u304b\u308c\u3055\u307e\uff01")),o.push(c.a.createElement("div",{className:n},"\u308c\u3093\u3057\u3085\u3046\u306e",c.a.createElement("br",null),"\u3051\u3063\u304b\u306f\uff01\uff01")),o.push(c.a.createElement("div",{className:i+" practice-end-level-up",onAnimationEnd:function(){return e.animationEnd()}},"\u30ec\u30d9\u30eb\u30a2\u30c3\u30d7"))):(o.push(c.a.createElement("div",{className:a},"\u304a\u3057\u307e\u3044")),o.push(c.a.createElement("div",{className:r},"\u304a\u3064\u304b\u308c\u3055\u307e\uff01")),o.push(c.a.createElement("div",{className:n},"\u308c\u3093\u3057\u3085\u3046\u306e",c.a.createElement("br",null),"\u3051\u3063\u304b\u306f\uff01\uff01")),o.push(c.a.createElement("div",{className:s,onAnimationEnd:function(){return e.animationEnd()}},"\u3082\u3046\u3044\u3063\u304b\u3044",c.a.createElement("br",null),"\u304c\u3093\u3070\u308d\u3046"))),c.a.createElement("div",{className:t},o)},M=function(e){var t=[{keys:"1QAZ",className:"kt-floating-frame kt-flex-vertical-center kt-box-shadow kt-font keycap-body-base keycap-left-first-finger"},{keys:"2WSX",className:"kt-floating-frame kt-flex-vertical-center kt-box-shadow kt-font keycap-body-base keycap-left-second-finger"},{keys:"3EDC",className:"kt-floating-frame kt-flex-vertical-center kt-box-shadow kt-font keycap-body-base keycap-left-third-finger"},{keys:"45RTFGVB",className:"kt-floating-frame kt-flex-vertical-center kt-box-shadow kt-font keycap-body-base keycap-left-forth-finger"},{keys:"67YUHJNM",className:"kt-floating-frame kt-flex-vertical-center kt-box-shadow kt-font keycap-body-base keycap-right-first-finger"},{keys:"8IK,",className:"kt-floating-frame kt-flex-vertical-center kt-box-shadow kt-font keycap-body-base keycap-right-second-finger"},{keys:"9OL.",className:"kt-floating-frame kt-flex-vertical-center kt-box-shadow kt-font keycap-body-base keycap-right-third-finger"},{keys:"0P+/-@*_^[]\\",className:"kt-floating-frame kt-flex-vertical-center kt-box-shadow kt-font keycap-body-base keycap-right-forth-finger"}].filter((function(t){return-1!==t.keys.indexOf(e.keycapCharacter)}))[0].className;return t+=!1===e.enabledKey?" keycap-body-disabled":e.keyDown?" keycap-body-down":" keycap-body",c.a.createElement("div",{className:"keycap-frame"},c.a.createElement("div",{className:t},e.keycapCharacter))},O=function(e){var t=[];Array.from(["1234567890-^\\","QWERTYUIOP@[","ASDFGHJKL+*]","ZXCVBNM,./_"]).forEach((function(a){var r=[];Array.from(a).forEach((function(t){r.push(c.a.createElement(M,{keycapCharacter:t,enabledKey:-1!==e.enabledKeys.indexOf(t),keyDown:-1!==e.downKeys.indexOf(t)}))})),t.push(r)}));var a="kt-flex-vertical-center keyboard-frame",r="kt-flex-horizontal-left keyboard-first-row-frame",n="kt-flex-horizontal-left keyboard-second-row-frame",i="kt-flex-horizontal-left keyboard-theard-row-frame",s="kt-flex-horizontal-left fkkeyboard-last-row-frame";return c.a.createElement("div",{className:a},c.a.createElement("div",{className:r},t[0]),c.a.createElement("div",{className:n},t[1]),c.a.createElement("div",{className:i},t[2]),c.a.createElement("div",{className:s},t[3]))},D=function(e){return c.a.createElement("div",{key:"dragonfly"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-dragonfly",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{left:20,character:e.character}))},w=function(e){return c.a.createElement("div",{key:"ladybird"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-ladybird",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{left:30,character:e.character}))},P=function(e){var t=[];return e.characterStateList.forEach((function(e,a){var r={isHead:0===a,componentId:e.componentId,character:e.character,top:e.top,left:e.left,charcterState:e.characterState};"dragonfly"===e.practiceCharacterType?t.push(c.a.createElement(D,r)):"ladybird"===e.practiceCharacterType&&t.push(c.a.createElement(w,r))})),c.a.createElement("div",{className:"kt-floating-frame kt-flex-horizontal-left practice-stage-sunflower-frame"},t)},U=function(e){return c.a.createElement("div",{key:"goldfish"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-goldfish",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{character:e.character}))},R=function(e){return c.a.createElement("div",{key:"blackfish"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-blackfish",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{top:15,left:35,character:e.character}))},x=function(e){return c.a.createElement("div",{key:"catfish"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-catfish",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{character:e.character}))},K=function(e){var t=[];return e.characterStateList.forEach((function(e,a){var r={isHead:0===a,componentId:e.componentId,character:e.character,top:e.top,left:e.left,charcterState:e.characterState};"goldfish"===e.practiceCharacterType?t.push(c.a.createElement(U,r)):"blackfish"===e.practiceCharacterType?t.push(c.a.createElement(R,r)):"catfish"===e.practiceCharacterType&&t.push(c.a.createElement(x,r))})),c.a.createElement("div",{className:"kt-floating-frame kt-flex-horizontal-left practice-stage-goldfish-frame"},t)},G=function(e){return c.a.createElement("div",{key:"turtle"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-turtle",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{left:30,character:e.character}))},F=function(e){return c.a.createElement("div",{key:"octopus"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-octopus",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{top:50,character:e.character}))},j=function(e){return c.a.createElement("div",{key:"blowfish"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-blowfish",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{character:e.character}))},Y=function(e){return c.a.createElement("div",{key:"shark"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-shark",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{left:20,character:e.character}))},B=function(e){var t=[];return e.characterStateList.forEach((function(e,a){var r={isHead:0===a,componentId:e.componentId,character:e.character,top:e.top,left:e.left,charcterState:e.characterState};"turtle"===e.practiceCharacterType?t.push(c.a.createElement(G,r)):"octopus"===e.practiceCharacterType?t.push(c.a.createElement(F,r)):"blowfish"===e.practiceCharacterType?t.push(c.a.createElement(j,r)):"shark"===e.practiceCharacterType&&t.push(c.a.createElement(Y,r))})),c.a.createElement("div",{className:"kt-floating-frame kt-flex-horizontal-left practice-stage-seabed-frame"},t)},H=function(e){return c.a.createElement("div",{key:"bat"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-bat",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{top:-40,character:e.character}))},V=function(e){return c.a.createElement("div",{key:"blackcat"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-blackcat",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{character:e.character}))},W=function(e){return c.a.createElement("div",{key:"ghost"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-ghost",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{left:30,character:e.character}))},J=function(e){return c.a.createElement("div",{key:"pumpkin"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-pumpkin",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{top:-15,character:e.character}))},X=function(e){return c.a.createElement("div",{key:"witch"+e.componentId,className:"kt-flex-vertical-center kt-font-white character-base character-witch",style:{top:Math.round(e.top),left:Math.round(e.left)}},c.a.createElement(b,{left:20,character:e.character}))},Q=function(e){var t=[];return e.characterStateList.forEach((function(e,a){var r={isHead:0===a,componentId:e.componentId,character:e.character,top:e.top,left:e.left,charcterState:e.characterState};"bat"===e.practiceCharacterType?t.push(c.a.createElement(H,r)):"blackcat"===e.practiceCharacterType?t.push(c.a.createElement(V,r)):"ghost"===e.practiceCharacterType?t.push(c.a.createElement(W,r)):"pumpkin"===e.practiceCharacterType?t.push(c.a.createElement(J,r)):"witch"===e.practiceCharacterType&&t.push(c.a.createElement(X,r))})),c.a.createElement("div",{className:"kt-floating-frame kt-flex-horizontal-left practice-stage-halloween-frame"},t)},q=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).playingStartBgm=!1,e.playingCountdownSe=!1,e.playingResultSe=!1,e.playingStageEndBgm=!1,e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t="kt-box-fit practice-page-background",a="kt-box-fit practice-page-outer-frame",r="kt-floating-frame kt-flex-vertical-left practice-page-inner-frame",n="kt-floating-frame header-frame";return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t}),c.a.createElement("div",{className:a},c.a.createElement("div",{className:r},c.a.createElement("div",{className:n},c.a.createElement(d,{successCount:this.props.successCounter}),c.a.createElement(f,{remainingTime:this.props.remainingTime}),c.a.createElement(I,{missCount:this.props.missCounter})),c.a.createElement("div",{style:{position:"relative"}},"sakura"===this.props.practiceStageType?c.a.createElement(T,{characterStateList:this.props.characterStateList}):"sunflower"===this.props.practiceStageType?c.a.createElement(P,{characterStateList:this.props.characterStateList}):"goldfish"===this.props.practiceStageType?c.a.createElement(K,{characterStateList:this.props.characterStateList}):"seabed"===this.props.practiceStageType?c.a.createElement(B,{characterStateList:this.props.characterStateList}):"halloween"===this.props.practiceStageType?c.a.createElement(Q,{characterStateList:this.props.characterStateList}):c.a.createElement("div",null),c.a.createElement(S,{animationEnd:this.onAnimationEnd.bind(this)}),0===this.props.remainingTime?c.a.createElement(A,{levelUp:this.props.missCounter<3,animationEnd:this.props.endAnimationEnd,practiceCompleted:this.props.practiceCompleted}):c.a.createElement("div",null),c.a.createElement(g,{characterStateList:this.props.characterStateList,effectStateList:this.props.effectorStateList})),c.a.createElement("div",null,c.a.createElement(O,{onKeyDown:function(t){return e.props.keyDown(t.key)},onKeyUp:function(t){return e.props.keyUp(t.key)},enabledKeys:this.props.enabledKeys,downKeys:this.props.downedKeys})))),c.a.createElement("div",null,c.a.createElement(_,{bgmStatus:this.props.bgmStatus,soundMuting:this.props.soundMuting})),c.a.createElement("div",null,c.a.createElement(C,{soundEffectList:this.props.soundEffectList,soundMuting:this.props.soundMuting})))}},{key:"componentDidMount",value:function(){this.props.initilizeStage()}},{key:"componentDidUpdate",value:function(){var e=this;this.playingStartBgm||(this.playingStartBgm=!0,this.props.playingBgm(this.props.currentBgmUrl),setTimeout((function(){e.props.playingSoundEffect(N.seVoiceReady),setTimeout((function(){e.props.playingSoundEffect(N.seVoiceGo)}),2e3,e)}),3e3,this)),3!==this.props.remainingTime||this.playingCountdownSe||(this.props.playingSoundEffect(N.seVoiceCountDown),this.playingCountdownSe=!0),0!==this.props.remainingTime||this.playingStageEndBgm||(this.props.playingBgm(N.bgmStageEnd),this.playingStageEndBgm=!0),0!==this.props.remainingTime||this.playingResultSe||(this.props.missCounter<3?setTimeout((function(){return e.props.playingSoundEffect(N.seVoiceGoodJob)}),9e3,this):setTimeout((function(){return e.props.playingSoundEffect(N.seVoicePity)}),9e3,this),this.playingResultSe=!0)}},{key:"onAnimationEnd",value:function(){this.props.startAnimationEnd()}}]),a}(c.a.Component),z=a(17),Z=Object(z.actionCreatorFactory)(),$={SELECTED_PRACTICE_STAGE:Z("SET_PRACTICE_STAGE"),SELECTED_CHARACTER_TYPE:Z("SELECTED_CHARACTER_TYPE"),RESET_ENGINE:Z("RESET_ENGINE"),START_PRACTICE:Z("START_PRACTICE"),FIRE_CHARACTER:Z("FIRE_CHARACTER"),INPUT_CHARACTER:Z("INPUT_CHARACTER"),TICK:Z("TICK")},ee=Object(z.actionCreatorFactory)(),te={LOAD_PRACTICE_LEVEL:ee("LOAD_PRACTICE_LEVEL"),UPDATE_PRACTICE_LEVEL:ee("UPDATE_PRACTICE_LEVEL"),SELECT_PRACTICE_LEVEL:ee("SELECT_PRACTICE_LEVEL"),PRACTICE_LEVEL_UP:ee("PRACTICE_LEVEL_UP"),RESET_PRACTICE_LEVEL:ee("RESET_PRACTICE_LEVEL"),OPEN_DIALOG:ee("OPEN_DIALOG"),CLOSE_DIALOG:ee("CLOSE_DIALOG")},ae=Object(z.actionCreatorFactory)(),re={RESET_KEYBOARD:ae("RESET_KEYBOARD"),ENABLED_KEYS:ae("ENABLED_KEYS"),KEY_DOWN:ae("KEY_DOWN"),KEY_UP:ae("KEY_UP")},ce=Object(z.actionCreatorFactory)(),ne={CHANGED_BGM:ce("CHANGED_BGM"),PLAYING_BGM:ce("PLAY_BGM"),STOPPED_BGM:ce("STOPPED_BGM"),PLAYING_SOUND_EFFECT:ce("PLAYING_SOUND_EFFECT"),STOPPED_SOUND_EFFECT:ce("STOPPED_SOUND_EFFECT"),MUTE:ce("MUTE"),UNMUTE:ce("UNMUTE")},ie=Object(z.actionCreatorFactory)(),se={RESET_SUCCESS_COUNTER:ie("RESET_SUCCESS_COUNTER"),ADD_SUCCESS_COUNTER:ie("ADD_SUCCESS_COUNTER"),RESET_MISS_COUNTER:ie("RESET_MISS_COUNTER"),ADD_MISS_COUNTER:ie("ADD_MISS_COUNTER"),UPDATE_REMAINING_TIME:ie("UPDATE_REMAINING_TIME")},oe=a(12),le=a(57),ue=a(4),pe=a(18),fe=Object(pe.reducerWithInitialState)({successCounter:0,missCounter:0,remainingTime:60}).case(se.RESET_SUCCESS_COUNTER,(function(e){return Object(ue.a)({},e,{successCounter:0})})).case(se.ADD_SUCCESS_COUNTER,(function(e){return Object(ue.a)({},e,{successCounter:e.successCounter+1})})).case(se.RESET_MISS_COUNTER,(function(e){return Object(ue.a)({},e,{missCounter:0})})).case(se.ADD_MISS_COUNTER,(function(e){return Object(ue.a)({},e,{missCounter:e.missCounter+1})})).case(se.UPDATE_REMAINING_TIME,(function(e,t){return Object(ue.a)({},e,{remainingTime:t.remainingTime})})),de=Object(pe.reducerWithInitialState)({practiceLevel:1,practiceCompleted:!1,openedDialog:!1}).case(te.LOAD_PRACTICE_LEVEL,(function(e){var t=window.localStorage.getItem("__kids-typing__practice-level"),a=1;return null!==t?a=Number(t):window.localStorage.setItem("__kids-typing__practice-level",a.toString()),Object(ue.a)({},e,{practiceLevel:a,practiceCompleted:20===a})})).case(te.UPDATE_PRACTICE_LEVEL,(function(e){return window.localStorage.setItem("__kids-typing__practice-level",e.practiceLevel.toString()),Object(ue.a)({},e)})).case(te.PRACTICE_LEVEL_UP,(function(e){return Object(ue.a)({},e,{practiceLevel:e.practiceLevel+(e.practiceLevel<20?1:0),practiceCompleted:19===e.practiceLevel})})).case(te.RESET_PRACTICE_LEVEL,(function(e){return Object(ue.a)({},e,{practiceLevel:1,practiceCompleted:!1})})).case(te.OPEN_DIALOG,(function(e){return Object(ue.a)({},e,{openedDialog:!0})})).case(te.CLOSE_DIALOG,(function(e){return Object(ue.a)({},e,{openedDialog:!1})})),me=Object(pe.reducerWithInitialState)({practiceStageType:"sakura",useCharacterTypes:[],characterStateList:[],effectorStateList:[],practiceStartTime:0,practiceTime:0,componentIdSequence:0,effectIdSequence:0}).case($.SELECTED_PRACTICE_STAGE,(function(e,t){return Object(ue.a)({},e,{practiceStageType:t.stageType})})).case($.SELECTED_CHARACTER_TYPE,(function(e,t){return Object(ue.a)({},e,{useCharacterTypes:t.characterTypes})})).case($.RESET_ENGINE,(function(e){return Object(ue.a)({},e,{characterStateList:[],effectorStateList:[],practiceStartTime:0,practiceTime:0})})).case($.START_PRACTICE,(function(e,t){return Object(ue.a)({},e,{practiceStartTime:(new Date).getTime(),practiceTime:t.startTime})})).case($.FIRE_CHARACTER,(function(e,t){for(var a=e.useCharacterTypes[Math.floor(Math.random()*e.useCharacterTypes.length)],r=e.characterStateList.filter((function(e){return"shark"===e.practiceCharacterType}));r.length>0&&"shark"===a;)a=e.useCharacterTypes[Math.floor(Math.random()*e.useCharacterTypes.length)];return Object(ue.a)({},e,{characterStateList:Array.from(e.characterStateList).concat({componentId:(e.componentIdSequence+1).toString(),practiceCharacterType:a,character:t.character,top:"shark"===a?400:"blackcat"===a?430:100+Math.round(100*Math.random()),left:900,XAcceleration:-2,YAcceleration:0,characterState:"init"}),componentIdSequence:e.componentIdSequence+1})})).case($.INPUT_CHARACTER,(function(e,t){return Object(ue.a)({},e,{characterStateList:e.characterStateList.length>0&&e.characterStateList[0].character===t.character?e.characterStateList.slice(1):e.characterStateList,effectorStateList:e.characterStateList.length>0?e.characterStateList[0].character===t.character?Array.from(e.effectorStateList).concat([{effectId:(e.effectIdSequence+1).toString(),effectType:"InputSuccess",top:e.characterStateList[0].top,left:e.characterStateList[0].left,XAcceleration:e.characterStateList[0].XAcceleration,YAcceleration:e.characterStateList[0].YAcceleration,startTime:(new Date).getTime()}]):Array.from(e.effectorStateList).concat([{effectId:(e.effectIdSequence+1).toString(),effectType:"InputMiss",top:e.characterStateList[0].top,left:e.characterStateList[0].left,XAcceleration:e.characterStateList[0].XAcceleration,YAcceleration:e.characterStateList[0].YAcceleration,startTime:(new Date).getTime()}]):e.effectorStateList,effectIdSequence:e.characterStateList.length>0?e.effectIdSequence+1:e.effectIdSequence})})).case($.TICK,(function(e){var t=(new Date).getTime();return Object(ue.a)({},e,{characterStateList:Array.from(e.characterStateList).filter((function(e){return"terminate"!==e.characterState})).filter((function(e){return e.left>=-100})).map((function(e){return Object(ue.a)({},e,{top:he(e.practiceCharacterType,e.top,e.YAcceleration),left:Ee(e.practiceCharacterType,e.left,e.XAcceleration),YAcceleration:ge(e.practiceCharacterType,e.top,e.YAcceleration),XAcceleration:(e.practiceCharacterType,e.left,e.XAcceleration,-2)})})),effectorStateList:-1!==e.effectorStateList.findIndex((function(e){return t-e.startTime>=5e3}))?Array.from(e.effectorStateList).filter((function(e){return t-e.startTime<5e3})):e.effectorStateList})}));function he(e,t,a){switch(e){case"sakura":case"bird":case"dragonfly":case"ladybird":case"goldfish":case"catfish":case"blackfish":case"turtle":case"octopus":case"blowfish":case"bat":case"ghost":case"pumpkin":case"witch":return Math.max(Math.min(Math.round(t+a),400),0);case"shark":case"blackcat":return t}}function Ee(e,t,a){return Math.round(t+a)}function ge(e,t,a){switch(e){case"sakura":case"goldfish":case"blackfish":case"catfish":case"turtle":case"blowfish":case"witch":var r=a+(.5-1*Math.random());return r>1&&(r=1),r<-.5&&(r=-.5),r;case"bird":case"dragonfly":case"ladybird":case"pumpkin":return 2-4*Math.random();case"octopus":case"bat":case"ghost":var c=a+(.5-1*Math.random());return c>2&&(c=2),c<-1&&(c=-1),c;case"shark":case"blackcat":return 0}return 1}var Se=Object(pe.reducerWithInitialState)({enabledKeys:[],downedKeys:[]}).case(re.ENABLED_KEYS,(function(e,t){return Object(ue.a)({},e,{enabledKeys:t.keys})})).case(re.KEY_DOWN,(function(e,t){return Object(ue.a)({},e,{downedKeys:Array.from(e.downedKeys).concat(t.key)})})).case(re.KEY_UP,(function(e,t){return Object(ue.a)({},e,{downedKeys:Array.from(e.downedKeys).filter((function(e){return e!==t.key}))})})),be=Object(pe.reducerWithInitialState)({currentBgmUrl:"",bgmStatus:{soundEffectId:"",soundStatus:"STOPPED",url:"",playStartTime:0},soundEffectList:[],soundEffectIdSequence:0,soundMuting:!0}).case(ne.CHANGED_BGM,(function(e,t){return Object(ue.a)({},e,{currentBgmUrl:t.bgmUrl})})).case(ne.PLAYING_BGM,(function(e,t){return Object(ue.a)({},e,{bgmStatus:{soundEffectId:"bgm",soundStatus:"PLAYING",url:t.bgmUrl,playStartTime:(new Date).getTime()}})})).case(ne.STOPPED_BGM,(function(e){return Object(ue.a)({},e,{bgmStatus:Object(ue.a)({},e.bgmStatus,{soundStatus:"STOPPED"})})})).case(ne.PLAYING_SOUND_EFFECT,(function(e,t){return Object(ue.a)({},e,{soundEffectList:Array.from(e.soundEffectList).concat({soundEffectId:(e.soundEffectIdSequence+1).toString(),soundStatus:"PLAYING",url:t.soundUrl,playStartTime:(new Date).getTime()}),soundEffectIdSequence:e.soundEffectIdSequence+1})})).case(ne.STOPPED_SOUND_EFFECT,(function(e,t){return Object(ue.a)({},e,{soundEffectList:[]})})).case(ne.MUTE,(function(e){return Object(ue.a)({},e,{soundMuting:!0})})).case(ne.UNMUTE,(function(e){return Object(ue.a)({},e,{soundMuting:!1})})),ye=a(29),ke={FADE_OUT_ENDING:Object(z.actionCreatorFactory)()("FADE_OUT_ENDING")},Te=Object(pe.reducerWithInitialState)({fadeOut:!1}).case(ke.FADE_OUT_ENDING,(function(e){return Object(ue.a)({},e,{fadeOut:!0})})),Ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ye.d,ve=Object(ye.e)(Object(ye.c)({titleState:de,endingState:Te,typingEngineState:me,headerState:fe,keyboardState:Se,soundState:be}),Ce(Object(ye.a)(le.a))),Le=Object(oe.g)(Object(s.b)((function(e){return{successCounter:e.headerState.successCounter,missCounter:e.headerState.missCounter,remainingTime:e.headerState.remainingTime,practiceStageType:e.typingEngineState.practiceStageType,characterStateList:e.typingEngineState.characterStateList,effectorStateList:e.typingEngineState.effectorStateList,enabledKeys:e.keyboardState.enabledKeys,downedKeys:e.keyboardState.downedKeys,currentBgmUrl:e.soundState.currentBgmUrl,bgmStatus:e.soundState.bgmStatus,soundEffectList:e.soundState.soundEffectList,soundMuting:e.soundState.soundMuting,practiceLevel:e.titleState.practiceLevel,practiceCompleted:e.titleState.practiceCompleted}}),(function(e){return{resetSuccessCounter:function(){return e(se.RESET_SUCCESS_COUNTER())},addSuccessCounter:function(){return e(se.ADD_SUCCESS_COUNTER())},resetMissCounter:function(){return e(se.RESET_MISS_COUNTER())},addMissCounter:function(){return e(se.ADD_MISS_COUNTER())},resetKeyboard:function(){return e(re.RESET_KEYBOARD())},keyDown:function(t){return e(re.KEY_DOWN({key:t}))},keyUp:function(t){return e(re.KEY_UP({key:t}))},selectStage:function(t){return e($.SELECTED_PRACTICE_STAGE({stageType:t}))},initilizeStage:function(){return function(){var e=Me(ve.getState().titleState.practiceLevel);ve.dispatch($.SELECTED_PRACTICE_STAGE({stageType:e.stageType})),ve.dispatch($.SELECTED_CHARACTER_TYPE({characterTypes:e.useCharacterTypes})),ve.dispatch(ne.CHANGED_BGM({bgmUrl:e.backgroundMusic})),ve.dispatch(re.ENABLED_KEYS({keys:Array.from(e.enabledKeys)})),window.addEventListener("keydown",(function(e){ve.dispatch(re.KEY_DOWN({key:e.key.toLocaleUpperCase()}))})),window.addEventListener("keyup",(function(e){if(0===ve.getState().typingEngineState.characterStateList.length)return ve.dispatch(se.ADD_MISS_COUNTER()),void ve.dispatch(ne.PLAYING_SOUND_EFFECT({soundUrl:N.seMiss}));ve.getState().typingEngineState.characterStateList[0].character===e.key.toLocaleUpperCase()?(ve.dispatch($.INPUT_CHARACTER({character:e.key.toLocaleUpperCase()})),ve.dispatch(se.ADD_SUCCESS_COUNTER()),ve.dispatch(ne.PLAYING_SOUND_EFFECT({soundUrl:N.seSuccess}))):(ve.dispatch($.INPUT_CHARACTER({character:e.key.toLocaleUpperCase()})),ve.dispatch(se.ADD_MISS_COUNTER()),ve.dispatch(ne.PLAYING_SOUND_EFFECT({soundUrl:N.seMiss}))),setTimeout((function(){return ve.dispatch(re.KEY_UP({key:e.key.toLocaleUpperCase()}))}),100)}))}()},startAnimationEnd:function(){return function(){var e=Me(ve.getState().titleState.practiceLevel),t=function(e,t,a){for(var r="",c=0;c<e/t.length;c++)r=r+t+a;var n=Array.from(r.substr(0,e));for(c=0;c<100;c++){var i=Math.round(Math.random()*(e-1)),s=Math.round(Math.random()*(e-1)),o=n[i],l=n[s];n[i]=l,n[s]=o}return n}(60,e.enabledKeys,e.importantKeys);ve.dispatch($.START_PRACTICE({startTime:60}));_e=setInterval(Ae,1e3/60,60,e.fireInterval,t)}()},endAnimationEnd:function(){return function(){var e=ve.getState().titleState.practiceLevel;ve.getState().titleState.practiceCompleted||(ve.getState().headerState.missCounter<=3?(ve.dispatch(te.PRACTICE_LEVEL_UP()),ve.dispatch(ne.PLAYING_SOUND_EFFECT({soundUrl:N.seVoiceGoodJob}))):ve.dispatch(ne.PLAYING_SOUND_EFFECT({soundUrl:N.seVoicePity})));if(ve.dispatch(te.UPDATE_PRACTICE_LEVEL()),clearInterval(_e),ve.getState().titleState.practiceCompleted&&19===e)return void window.location.replace("/kids-typing/ending/"+(ve.getState().soundState.soundMuting?"true":"false"));window.location.replace("/kids-typing/title/"+(ve.getState().soundState.soundMuting?"true":"false"))}()},playingBgm:function(t){return e(ne.PLAYING_BGM({bgmUrl:t}))},stoppedBgm:function(){return e(ne.STOPPED_BGM())},playingSoundEffect:function(t){return e(ne.PLAYING_SOUND_EFFECT({soundUrl:t}))},stoppedSoundEffect:function(){return e(ne.STOPPED_SOUND_EFFECT())}}}))(q));var _e=null;var Ne=0,Ie=0;function Ae(e,t,a){if(!(ve.getState().headerState.remainingTime<=0)){var r=ve.getState().typingEngineState.practiceTime-Math.round(((new Date).getTime()-ve.getState().typingEngineState.practiceStartTime)/1e3);ve.dispatch(se.UPDATE_REMAINING_TIME({remainingTime:r})),ve.dispatch($.TICK()),ve.getState().typingEngineState.characterStateList.length>0&&ve.getState().typingEngineState.characterStateList[0].left<=-100&&(console.log(ve.getState().typingEngineState.characterStateList[0].left),ve.dispatch($.INPUT_CHARACTER({character:""})),ve.dispatch(se.ADD_MISS_COUNTER()),ve.dispatch(ne.PLAYING_SOUND_EFFECT({soundUrl:N.seMiss}))),Ne*(1e3/e)>t&&(ve.dispatch($.FIRE_CHARACTER({character:a[Ie%a.length]})),Ne=0,Ie++),Ne++}}function Me(e){return[{stageType:"sakura",useCharacterTypes:["bird","sakura"],backgroundMusic:N.bgmStageSakura,enabledKeys:"DFJK",importantKeys:"",fireInterval:2e3},{stageType:"sakura",useCharacterTypes:["bird","sakura"],backgroundMusic:N.bgmStageSakura,enabledKeys:"SDFJKL",importantKeys:"SL",fireInterval:2e3},{stageType:"sakura",useCharacterTypes:["bird","sakura"],backgroundMusic:N.bgmStageSakura,enabledKeys:"ASDFGHJKL",importantKeys:"GH",fireInterval:2e3},{stageType:"sakura",useCharacterTypes:["bird","sakura"],backgroundMusic:N.bgmStageSakura,enabledKeys:"RUASDFGHJKL",importantKeys:"RU",fireInterval:2e3},{stageType:"goldfish",useCharacterTypes:["goldfish","blackfish","catfish"],backgroundMusic:N.bgmStageGoldfish,enabledKeys:"ERUIASDFGHJKL",importantKeys:"EI",fireInterval:2e3},{stageType:"goldfish",useCharacterTypes:["goldfish","blackfish","catfish"],backgroundMusic:N.bgmStageGoldfish,enabledKeys:"WERUIOASDFGHJKL",importantKeys:"WO",fireInterval:2e3},{stageType:"goldfish",useCharacterTypes:["goldfish","blackfish","catfish"],backgroundMusic:N.bgmStageGoldfish,enabledKeys:"QWERUIOPASDFGHJKL",importantKeys:"QP",fireInterval:2e3},{stageType:"goldfish",useCharacterTypes:["goldfish","blackfish","catfish"],backgroundMusic:N.bgmStageGoldfish,enabledKeys:"QWERTYUIOPASDFGHJKL",importantKeys:"TY",fireInterval:2e3},{stageType:"sunflower",useCharacterTypes:["dragonfly","ladybird"],backgroundMusic:N.bgmStageSunflower,enabledKeys:"QWERTYUIOPASDFGHJKLVN",importantKeys:"VN",fireInterval:2e3},{stageType:"sunflower",useCharacterTypes:["dragonfly","ladybird"],backgroundMusic:N.bgmStageSunflower,enabledKeys:"QWERTYUIOPASDFGHJKLCVNM",importantKeys:"CM",fireInterval:2e3},{stageType:"sunflower",useCharacterTypes:["dragonfly","ladybird"],backgroundMusic:N.bgmStageSunflower,enabledKeys:"QWERTYUIOPASDFGHJKLZXCVBNM",importantKeys:"ZXB",fireInterval:2e3},{stageType:"sunflower",useCharacterTypes:["dragonfly","ladybird"],backgroundMusic:N.bgmStageSunflower,enabledKeys:"57QWERTYUIOPASDFGHJKLZXCVBNM",importantKeys:"57",fireInterval:2e3},{stageType:"seabed",useCharacterTypes:["turtle","octopus","blowfish","shark"],backgroundMusic:N.bgmStageSeabed,enabledKeys:"4578QWERTYUIOPASDFGHJKLZXCVBNM",importantKeys:"48",fireInterval:2e3},{stageType:"seabed",useCharacterTypes:["turtle","octopus","blowfish","shark"],backgroundMusic:N.bgmStageSeabed,enabledKeys:"345789QWERTYUIOPASDFGHJKLZXCVBNM",importantKeys:"39",fireInterval:2e3},{stageType:"seabed",useCharacterTypes:["turtle","octopus","blowfish","shark"],backgroundMusic:N.bgmStageSeabed,enabledKeys:"23457890QWERTYUIOPASDFGHJKLZXCVBNM",importantKeys:"20",fireInterval:2e3},{stageType:"seabed",useCharacterTypes:["turtle","octopus","blowfish","shark"],backgroundMusic:N.bgmStageSeabed,enabledKeys:"1234567890QWERTYUIOPASDFGHJKLZXCVBNM",importantKeys:"16",fireInterval:2e3},{stageType:"halloween",useCharacterTypes:["bat","blackcat","ghost","pumpkin","witch"],backgroundMusic:N.bgmStageHalloween,enabledKeys:"1234567890QWERTYUIOPASDFGHJKLZXCVBNM",importantKeys:"",fireInterval:1800},{stageType:"halloween",useCharacterTypes:["bat","blackcat","ghost","pumpkin","witch"],backgroundMusic:N.bgmStageHalloween,enabledKeys:"1234567890QWERTYUIOPASDFGHJKLZXCVBNM",importantKeys:"",fireInterval:1600},{stageType:"halloween",useCharacterTypes:["bat","blackcat","ghost","pumpkin","witch"],backgroundMusic:N.bgmStageHalloween,enabledKeys:"1234567890QWERTYUIOPASDFGHJKLZXCVBNM",importantKeys:"",fireInterval:1400},{stageType:"halloween",useCharacterTypes:["bat","blackcat","ghost","pumpkin","witch"],backgroundMusic:N.bgmStageHalloween,enabledKeys:"1234567890QWERTYUIOPASDFGHJKLZXCVBNM",importantKeys:"",fireInterval:1200},{stageType:"halloween",useCharacterTypes:["bat","blackcat","ghost","pumpkin","witch"],backgroundMusic:N.bgmStageHalloween,enabledKeys:"1234567890QWERTYUIOPASDFGHJKLZXCVBNM",importantKeys:"",fireInterval:1e3}][e-1]}a(30);var Oe=function(e){return c.a.createElement("div",{className:"kt-font-bold-stroke kt-text-shadow title-logo"},"Kids\u2605Typing")},De=function(e){var t="kt-flex-vertical-left kt-floating-frame practice-level-label-frame",a="practice-level-label";return c.a.createElement("div",{className:t},c.a.createElement("div",{className:a},"\u308c\u3093\u3057\u3085\u3046\u306e\u30ec\u30d9\u30eb\u306f ",e.practiceLevel," \u3060\u3088"))},we=function(e){var t="kt-flex-vertical-center kt-box-shadow practice-start-button-frame",a="kt-font practice-start-button";return c.a.createElement("div",{className:t,onClick:function(){return e.startPractice()}},c.a.createElement("div",{className:a},"START"))},Pe=a(127),Ue=a(126),Re=a(125),xe=a(123),Ke=a(124),Ge=a(122),Fe=function(e){var t="kt-flex-vertical-center kt-box-shadow practice-level-reset-button-frame",a="kt-font practice-level-reset-button";return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t,onClick:function(){return e.openDialog()}},c.a.createElement("div",{className:a},"\u30ea\u30bb\u30c3\u30c8")),c.a.createElement(Ue.a,{open:e.openedDialog,onClose:function(){return e.closeDialog()},"aria-labelledby":"practice-level-reset-dialog-title","aria-describedby":"practice-level-reset-dialog-description"},c.a.createElement(Ge.a,{id:"practice-level-reset-dialog-title"},"\u304b\u304f\u306b\u3093"),c.a.createElement(xe.a,null,c.a.createElement(Ke.a,{id:"practice-level-reset-dialog-description"},"\u308c\u3093\u3057\u3085\u3046\u306e\u30ec\u30d9\u30eb\u3092\u30ea\u30bb\u30c3\u30c8\u3059\u308b\u3088\u3002",c.a.createElement("br",null),"\u30ec\u30d9\u30eb\u304c\uff11\u306b\u3082\u3069\u308b\u3051\u3069\u3000\u3060\u3044\u3058\u3087\u3046\u3076\uff1f")),c.a.createElement(Re.a,null,c.a.createElement(Pe.a,{onClick:function(){return e.closeDialog()},color:"primary"},"\u3084\u3060\u3088\uff5e"),c.a.createElement(Pe.a,{onClick:function(){return e.resetPracticeLevel()&&e.closeDialog()},color:"primary"},"\u3044\u3044\u3088"))))},je=function(e){var t="kt-box-shadow mute-button-base mute-button",a="kt-box-shadow mute-button-base unmute-button";return c.a.createElement("div",{className:e.soundMuting?t:a,onClick:function(){return e.soundMute()}})},Ye=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t="kt-box-fit title-page-background",a="kt-box-fit title-page-outer-frame",r="kt-floating-frame kt-flex-vertical-left title-page-inner-frame";return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t}),c.a.createElement("div",{className:a},c.a.createElement("div",{className:r},c.a.createElement(Oe,null),c.a.createElement(De,{practiceLevel:this.props.practiceLevel}),c.a.createElement(we,{startPractice:function(){return e.onPracticeStart()}}),c.a.createElement(Fe,{resetPracticeLevel:this.props.resetPracticeLevel,openDialog:this.props.openDialog,closeDialog:this.props.closeDialog,openedDialog:this.props.openedDialog}),c.a.createElement(je,{soundMute:this.props.soundMute,soundMuting:this.props.soundMuting}))),c.a.createElement(_,{bgmStatus:this.props.bgmStatus,soundMuting:this.props.soundMuting}),c.a.createElement(C,{soundEffectList:this.props.soundEffectList,soundMuting:this.props.soundMuting}))}},{key:"componentDidMount",value:function(){this.props.loadPracticeLevel(),this.props.match.params.soundMuting||this.props.soundMute()}},{key:"onPracticeStart",value:function(){var e=this;this.props.stoppedBgm(),this.props.playingSoundEffect(N.seTitleStart),setTimeout((function(){e.props.stoppedSoundEffect(),e.props.history.replace("/kids-typing/practice")}),1e3,this)}}]),a}(c.a.Component),Be=(Object(oe.g)(Ye),Object(s.b)((function(e){return{practiceLevel:e.titleState.practiceLevel,openedDialog:e.titleState.openedDialog,bgmStatus:e.soundState.bgmStatus,soundEffectList:e.soundState.soundEffectList,soundMuting:e.soundState.soundMuting}}),(function(e){return{loadPracticeLevel:function(){return e(te.LOAD_PRACTICE_LEVEL())},resetPracticeLevel:function(){return ve.dispatch(te.RESET_PRACTICE_LEVEL()),ve.dispatch(te.UPDATE_PRACTICE_LEVEL()),!0},playingBgm:function(t){return e(ne.PLAYING_BGM({bgmUrl:t}))},stoppedBgm:function(){return e(ne.STOPPED_BGM())},playingSoundEffect:function(t){return e(ne.PLAYING_SOUND_EFFECT({soundUrl:t}))},stoppedSoundEffect:function(){return e(ne.STOPPED_SOUND_EFFECT())},soundMute:function(){return ve.getState().soundState.soundMuting?(ve.dispatch(ne.UNMUTE()),void ve.dispatch(ne.PLAYING_BGM({bgmUrl:N.bgmTitle}))):(ve.dispatch(ne.MUTE()),ve.dispatch(ne.STOPPED_BGM()),void ve.dispatch(ne.STOPPED_SOUND_EFFECT()))},openDialog:function(){return e(te.OPEN_DIALOG())},closeDialog:function(){return e(te.CLOSE_DIALOG())}}}))(Ye));var He=a(42),Ve=(a(54),function(e){return c.a.createElement("div",{className:"kt-font-bold-stroke kt-text-shadow ending-logo"},"\u305c\u3093\u3076\u30af\u30ea\u30a2",c.a.createElement("br",null),"\u304a\u3081\u3067\u3068\u3046\uff01")}),We=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e="kt-box-fit ending-page-background",t="kt-box-fit ending-page-outer-frame",a="kt-floating-frame kt-flex-vertical-left ending-page-inner-frame",r=[];return this.props.characterStateList.forEach((function(e,t){var a={isHead:0===t,componentId:e.componentId,character:e.character,top:e.top,left:e.left,charcterState:e.characterState};"sakura"===e.practiceCharacterType?r.push(c.a.createElement(y,a)):"bird"===e.practiceCharacterType?r.push(c.a.createElement(k,a)):"goldfish"===e.practiceCharacterType?r.push(c.a.createElement(U,a)):"blackfish"===e.practiceCharacterType?r.push(c.a.createElement(R,a)):"catfish"===e.practiceCharacterType?r.push(c.a.createElement(x,a)):"dragonfly"===e.practiceCharacterType?r.push(c.a.createElement(D,a)):"ladybird"===e.practiceCharacterType?r.push(c.a.createElement(w,a)):"turtle"===e.practiceCharacterType?r.push(c.a.createElement(G,a)):"octopus"===e.practiceCharacterType?r.push(c.a.createElement(F,a)):"blowfish"===e.practiceCharacterType?r.push(c.a.createElement(j,a)):"shark"===e.practiceCharacterType?r.push(c.a.createElement(Y,a)):"bat"===e.practiceCharacterType?r.push(c.a.createElement(H,a)):"blackcat"===e.practiceCharacterType?r.push(c.a.createElement(V,a)):"ghost"===e.practiceCharacterType?r.push(c.a.createElement(W,a)):"pumpkin"===e.practiceCharacterType?r.push(c.a.createElement(J,a)):"witch"===e.practiceCharacterType&&r.push(c.a.createElement(X,a))})),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:e}),c.a.createElement("div",{className:t},c.a.createElement("div",{className:a+(this.props.fadeOut?" ending-fade-out":"")},c.a.createElement("div",{className:"kt-box-fit kt-flex-vertical-top-center",style:{zIndex:23}},c.a.createElement(Ve,null)),c.a.createElement("div",{className:"kt-box-fit",style:{zIndex:22}},c.a.createElement("div",{className:"kt-flex-horizontal-left ending-animation-frame"},r)))),c.a.createElement(_,{bgmStatus:this.props.bgmStatus,soundMuting:this.props.soundMuting}),c.a.createElement(C,{soundEffectList:this.props.soundEffectList,soundMuting:this.props.soundMuting}))}},{key:"componentDidMount",value:function(){var e=this;"false"===this.props.match.params.soundMuting&&this.props.soundMute(),setTimeout((function(){e.props.startEnding()}),5e3,this),setTimeout((function(){e.props.fadeOutEnding()}),6e4,this),setTimeout((function(){e.props.endEnding()}),7e4,this)}}]),a}(c.a.Component),Je=(Object(oe.g)(We),Object(s.b)((function(e){return{characterStateList:e.typingEngineState.characterStateList,effectorStateList:e.typingEngineState.effectorStateList,bgmStatus:e.soundState.bgmStatus,soundEffectList:e.soundState.soundEffectList,soundMuting:e.soundState.soundMuting,fadeOut:e.endingState.fadeOut}}),(function(e){return{startEnding:function(){return function(){ve.dispatch($.SELECTED_CHARACTER_TYPE({characterTypes:["sakura","goldfish","bird","dragonfly","ladybird","blackfish","catfish","turtle","octopus","blowfish","shark","bat","blackcat","ghost","pumpkin","witch"]})),ve.dispatch(ne.CHANGED_BGM({bgmUrl:N.bgmEnding}));Xe=setInterval(qe,1e3/60,60,2e3)}()},fadeOutEnding:function(){return e(ke.FADE_OUT_ENDING())},endEnding:function(){return clearInterval(Xe),void window.location.replace("/kids-typing/title/"+(ve.getState().soundState.soundMuting?"true":"false"))},playingBgm:function(t){return e(ne.PLAYING_BGM({bgmUrl:t}))},stoppedBgm:function(){return e(ne.STOPPED_BGM())},playingSoundEffect:function(t){return e(ne.PLAYING_SOUND_EFFECT({soundUrl:t}))},stoppedSoundEffect:function(){return e(ne.STOPPED_SOUND_EFFECT())},soundMute:function(){return ve.getState().soundState.soundMuting?(ve.dispatch(ne.UNMUTE()),void ve.dispatch(ne.PLAYING_BGM({bgmUrl:N.bgmEnding}))):(ve.dispatch(ne.MUTE()),ve.dispatch(ne.STOPPED_BGM()),void ve.dispatch(ne.STOPPED_SOUND_EFFECT()))}}}))(We)),Xe=null;var Qe=0;function qe(e,t){ve.dispatch($.TICK()),Qe*(1e3/e)>t&&(ve.dispatch($.FIRE_CHARACTER({character:""})),Qe=0),Qe++}var ze=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(He.a,{basename:"/kids-typing"},c.a.createElement(oe.d,null,c.a.createElement(oe.b,{exact:!0,path:"/kids-typing"},c.a.createElement(oe.a,{to:"/kids-typing/title/false"})),c.a.createElement(oe.b,{exact:!0,path:"/kids-typing/title/:soundMuting",component:Be}),c.a.createElement(oe.b,{exact:!0,path:"/kids-typing/practice",component:Le}),c.a.createElement(oe.b,{exact:!0,path:"/kids-typing/ending/:soundMuting",component:Je}))))},Ze=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(c.a.createElement(s.a,{store:ve},c.a.createElement(ze,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/kids-typing",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/kids-typing","/service-worker.js");Ze?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):$e(t,e)}))}}()}],[[64,1,2]]]);
//# sourceMappingURL=main.df447179.chunk.js.map